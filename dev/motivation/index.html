<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Motivation · Swizzles.jl</title><meta name="title" content="Motivation · Swizzles.jl"/><meta property="og:title" content="Motivation · Swizzles.jl"/><meta property="twitter:title" content="Motivation · Swizzles.jl"/><meta name="description" content="Documentation for Swizzles.jl."/><meta property="og:description" content="Documentation for Swizzles.jl."/><meta property="twitter:description" content="Documentation for Swizzles.jl."/><meta property="og:url" content="https://serenity4.github.io/Swizzles.jl/motivation/"/><meta property="twitter:url" content="https://serenity4.github.io/Swizzles.jl/motivation/"/><link rel="canonical" href="https://serenity4.github.io/Swizzles.jl/motivation/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Swizzles.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Motivation</a></li><li><a class="tocitem" href="../tutorial/">Tutorial</a></li><li><a class="tocitem" href="../reference/">Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Motivation</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Motivation</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/serenity4/Swizzles.jl/blob/main/docs/src/motivation.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Motivation"><a class="docs-heading-anchor" href="#Motivation">Motivation</a><a id="Motivation-1"></a><a class="docs-heading-anchor-permalink" href="#Motivation" title="Permalink"></a></h1><p>This package is largely motivated by the use of swizzling in computer graphics. It is common to write <a href="https://en.wikipedia.org/wiki/Shader">shaders</a> which use built-in vector types to represent many kinds of data, not just position. Notably, 4-component vectors are particularly efficient to use in hardware and map well to 3D locations using a fourth <a href="https://en.wikipedia.org/wiki/Homogeneous_coordinates">homogeneous coordinate</a>, which faciliates the application of <a href="https://en.wikipedia.org/wiki/Projective_geometry">projective geometry</a> techniques.</p><p>Because of the efficiency of built-in vectors and special intrinsics defined for them (that may or may not have optimized hardware implementations), it is common for shaders to abuse 2, 3 or 4-component vectors outside of spatial descriptions, where for example 3 or 4-component vectors represent colors (depending on whether an alpha channel is used). In fact, the way shader code integrates with the graphics pipeline in graphics APIs <a href="https://www.khronos.org/opengl/wiki/Fragment#Fragment_shader_outputs"><em>requires</em></a> colors to be 4-component vectors in <a href="https://www.khronos.org/opengl/wiki/Fragment_Shader">fragment shaders</a>. Another example might be to use a 2-component vector to store a strength and a radius parameter for a blur computation algorithm. It does not mean that this is necessarily more efficient than having a user-defined structure with explicit fields, and it is certainly less intuitive to abuse vectors here, but such abuse is widespread in graphics programming.</p><p>To facilitate the integration of graphics programming code and techniques, it is therefore useful to represent certain operations that are specific to vectors and probably not expected outside of computer graphics, swizzling being one such operation. At its core, swizzling is really just a way to reorder data, using vectors as a way to organize such data.</p><p>The main appeal to represent swizzling as a function (and provide a convenient syntax for it) is that swizzles are extremely cheap on the GPU. Therefore, a shader compiler such as <a href="https://github.com/serenity4/SPIRV.jl">SPIRV.jl</a> may want to override <a href="../reference/#Swizzles.swizzle"><code>swizzle</code></a> methods to emit a single GPU intrinsic for the operation, hinging on the existence of such a function in the first place.</p><p>After <a href="https://github.com/JuliaArrays/StaticArrays.jl/pull/1221">an attempt</a> to allow swizzling in <code>getproperty</code>/<code>setproperty!</code> in <a href="https://github.com/JuliaArrays/StaticArrays.jl">StaticArrays</a> (containing the main implementation of small statically-sized vectors), it was decided that having it in an external package was preferable.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../tutorial/">Tutorial »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.1.2 on <span class="colophon-date" title="Sunday 26 November 2023 15:08">Sunday 26 November 2023</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
